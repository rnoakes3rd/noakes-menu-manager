!function(d){"use strict";var r,a,i=window.nmm_script_options||{},e=window.pagenow||!1,n=window.postboxes||!1,t=window.wp||{},m=(d.fn.extend({nmm_add_event:function(e,n){return this.addClass(e).on(e,n).nmm_trigger_all(e)},nmm_sanitize_html:function(){var e=d("<div />").append(this);return e.find('animate, applet, audio, base, bgsound, body, embed, event-source, frame, head, html, iframe, meta, object, script, set, style, title, video, vmlframe, x, xml, xss, [action*="pt:"], [background*="pt:"], [data*="ta:"], [dynsrc*="pt:"], [formaction], [href*="ta:"], [href*="pt:"], [lowsrc*="pt:"], [onbeforeunload], [onblur], [onerror], [onfocus], [oninput], [onkeydown], [onkeypress], [onkeyup], [onload], [onmouseenter], [onmouseleave], [onmousemove], [onmouseout], [onmouseover], [onmouseup], [onmousewheel], [onpagehide], [onpageshow], [onpopstate], [onpropertychange], [onreadystatechange], [onresize], [onscroll], [onstart], [onunload], [poster*="pt:"], [size*="pt:"], [src*="ta:"], [src*="pt:"], [style*="behavior"], [style*="expression"], [style*="pt:"], [value*="pt:"], [xlink\\:href*="pt:"]').remove(),e.children()},nmm_trigger_all:function(e,n){return n=void 0===n?[]:n,Array.isArray(n)||(n=[n]),this.each(function(){d(this).triggerHandler(e,n)})},nmm_unprepared:function(e){var n="nmm-prepared";return e&&(n+="-"+e),this.not("."+n).addClass(n)}}),d.noakes_menu_manager=d.noakes_menu_manager||{}),s=(d.extend(m,{admin_bar:d("#wpadminbar"),body:d(document.body),document:d(document),form:d("#nmm-form"),scroll_element:d("html, body"),window:d(window)}),m.data=m.data||{}),l=(d.extend(s,{compare:"nmm-compare",conditional:"nmm-conditional",field:"nmm-field",initial_value:"nmm-initial-value",value:"nmm-value",ajax_action:"nmm-ajax-action",ajax_confirmation:"nmm-ajax-confirmation",ajax_nonce:"nmm-ajax-nonce",ajax_value:"nmm-ajax-value",identifier:"nmm-identifier",item_count:"nmm-item-count",index:"nmm-index",sibling:"nmm-sibling"}),m.events=m.events||{}),c=(d.extend(l,{check_conditions:"nmm-check-conditions",konami_code:"nmm-konami-code",sort:"nmm-sort"}),m.methods=m.methods||{}),o=(d.extend(c,{add_noatice:function(e){d.noatice&&d.noatice.add.base(e)},ajax_buttons:function(e){var n=m.form.find(".nmm-ajax-button, .nmm-field-submit .nmm-button").prop("disabled",e);e||n.removeClass("nmm-clicked")},ajax_data:function(e){return!!e.data&&(e.data.noatice&&c.add_noatice(e.data.noatice),e.data.url&&(r.changes_made=!1,window.location=c.sanitize_url(e.data.url)),!0)},ajax_error:function(e,n,a){e.responseJSON&&c.ajax_data(e.responseJSON)||c.add_noatice({css_class:"noatice-error",dismissable:!0,message:n+": "+a}),m.form.removeClass("nmm-submitted"),c.ajax_buttons(!1)},ajax_success:function(e){c.ajax_data(e)&&e.data.url||(m.form.removeClass("nmm-submitted"),c.ajax_buttons(!1))},fire_all:function(e){d.each(e,function(e,n){"function"==typeof n&&n()})},sanitize_url:function(e){e=d("<a />").attr("href",e).nmm_sanitize_html();return 1===e.length?e.attr("href"):"#"},scroll_to:function(e){var n,a,t,i;"number"!=typeof e&&(n=m.admin_bar.height(),a=e.outerHeight(),i=(t=m.window.height())-n,e=e.offset().top-n,e-=0===a||i<=a?40:Math.floor((i-a)/2),e=Math.max(0,Math.min(e,m.document.height()-t))),m.scroll_element.animate({scrollTop:e+"px"},{queue:!1})},setup_fields:function(e){o.wrapper=e||o.wrapper,c.fire_all(o)}}),m.fields=m.fields||{}),f=(d.extend(o,{wrapper:m.form,ajax_buttons:function(){o.wrapper.find(".nmm-field-ajax-button:not(.nmm-field-template) .nmm-ajax-button[data-"+s.ajax_action+"][data-"+s.ajax_nonce+"]").nmm_unprepared("ajax-button").on("click",function(){var e=d(this);e.is("[data-"+s.ajax_confirmation+"]")&&!window.confirm(e.data(s.ajax_confirmation))||(e.addClass("nmm-clicked"),c.ajax_buttons(!0),d.post({error:c.ajax_error,success:c.ajax_success,url:i.urls.ajax,data:{_ajax_nonce:e.data(s.ajax_nonce),action:e.data(s.ajax_action),"admin-page":i.admin_page,"option-name":i.option_name,value:e.is("[data-"+s.ajax_value+"]")?e.data(s.ajax_value):""}}))}).prop("disabled",!1)},code:function(){o.wrapper.find(".nmm-field-code:not(.nmm-field-template) .nmm-copy-to-clipboard").nmm_unprepared("code").on("click",function(){var e,n,a=d(this),t=a.closest(".nmm-field-input").children("pre").first();!a.hasClass("nmm-clicked")&&0<t.length&&(a.addClass("nmm-clicked"),setTimeout(function(){a.removeClass("nmm-clicked")},800),document.body.createTextRange?((n=document.body.createTextRange()).moveToElementText(t.get(0)),n.select()):window.getSelection&&(e=window.getSelection(),(n=document.createRange()).selectNodeContents(t.get(0)),e.removeAllRanges(),e.addRange(n)),document.execCommand("copy"))})},conditional:function(){o.wrapper.find(".nmm-field:not(.nmm-field-template) > .nmm-field-input > .nmm-condition[data-"+s.conditional+"][data-"+s.field+"][data-"+s.value+"][data-"+s.compare+"]").nmm_unprepared("condition").each(function(){var e=d(this).removeData([s.conditional,s.field,s.value,s.compare]),n=m.form.find('[name="'+e.data(s.conditional)+'"]'),e=m.form.find('[name="'+e.data(s.field)+'"]');!n.hasClass(l.check_conditions)&&0<e.length&&n.nmm_add_event(l.check_conditions,function(){var e=d(this),o=!0,e=(m.form.find(".nmm-condition[data-"+s.conditional+'="'+e.attr("name")+'"][data-'+s.field+"][data-"+s.value+"][data-"+s.compare+"]").each(function(){var e=d(this),n=m.form.find('[name="'+e.data(s.field)+'"]'),a=e.data(s.compare),t=!1,i=(n.is(":radio")?n.filter(":checked"):n).val();n.is(":checkbox")&&(i=n.is(":checked")?i:""),t="!="===a?e.data(s.value)+""!=i+"":e.data(s.value)+""==i+"",o=o&&t}),e.closest(".nmm-field"));o?e.stop(!0).slideDown("fast"):e.stop(!0).slideUp("fast")}),e.hasClass("nmm-has-condition")||e.addClass("nmm-has-condition").on("change",function(){m.form.find(".nmm-condition[data-"+s.conditional+"][data-"+s.field+'="'+d(this).attr("name")+'"][data-'+s.value+"][data-"+s.compare+"]").each(function(){m.form.find('[name="'+d(this).data(s.conditional)+'"]').nmm_trigger_all(l.check_conditions)})})})},repeatable:function(){var e,n=o.wrapper.find(".nmm-field-repeatable:not(.nmm-field-template) > .nmm-field-input > .nmm-repeatable").nmm_unprepared("repeatable");0<n.length&&(n.find("> .nmm-repeatable-actions .nmm-repeatable-add").on("click",function(e,n){var a=d(this).closest(".nmm-repeatable"),t="__i__",i=a.children(".nmm-repeatable-template"),o=i.clone(!0).addClass("nmm-repeatable-item").removeClass("nmm-repeatable-template nmm-field-template").hide(),m=a.data(s.item_count);o.find(".nmm-field-template").removeClass("nmm-field-template").filter(".nmm-field-repeatable").find(".nmm-field").addClass("nmm-field-template"),o.find("[data-"+s.identifier+"]").each(function(){var e=d(this),n=e.data(s.identifier).replace(t,m);e.removeData(s.identifier).attr("data-"+s.identifier,n),-1===n.indexOf(t)&&(e.is("label")?e.attr("for",n):e.attr({id:"nmm-"+n,name:n}))}),o.find(".nmm-condition[data-"+s.conditional+'*="'+t+'"]').each(function(){var e=d(this);e.removeData(s.conditional).attr("data-"+s.conditional,e.data(s.conditional).replace(t,m))}),o.find(".nmm-condition[data-"+s.field+'*="'+t+'"]').each(function(){var e=d(this);e.removeData(s.field).attr("data-"+s.field,e.data(s.field).replace(t,m))}),n?o.nmm_sanitize_html().insertBefore(n):o.nmm_sanitize_html().insertBefore(i),a.data(s.item_count,m+1).triggerHandler(l.sort),c.setup_fields(o),o.addClass("nmm-animated").slideDown("fast",function(){d(this).removeClass("nmm-animated"),r.changes_made=!0})}),(e=d(t.template("nmm-repeatable-buttons")()).on("click",function(e){d(this).parent().is(":animated")?e.stopImmediatePropagation():r.changes_made=!0})).filter(".nmm-repeatable-move-up").on("click",function(){var e=d(this).parent(),n=e.prev(".nmm-repeatable-item");0<n.length&&n.nmm_sanitize_html().insertAfter(e).parent().triggerHandler(l.sort)}),e.filter(".nmm-repeatable-move-down").on("click",function(){var e=d(this).parent(),n=e.next(".nmm-repeatable-item");0<n.length&&n.nmm_sanitize_html().insertBefore(e).parent().triggerHandler(l.sort)}),e.filter(".nmm-repeatable-insert").on("click",function(){var e=d(this).parent();e.siblings(".nmm-repeatable-actions").find(".nmm-repeatable-add").triggerHandler("click",[e])}),e.filter(".nmm-repeatable-remove").on("click",function(){var e=d(this).parent(),n=e.parent();e.height(e.height()).addClass("nmm-animated").slideUp("fast",function(){d(this).remove(),n.triggerHandler(l.sort)})}),n.children(".nmm-repeatable-item, .nmm-repeatable-template").each(function(){e.clone(!0).appendTo(d(this))}),n.each(function(){var e=d(this);e.data(s.item_count,e.children(".nmm-repeatable-item").length)}).on(l.sort,function(){var e=d(this),n=e.children(".nmm-repeatable-item");e.is(".nmm-repeatable-locked")?e.addClass("ui-sortable-disabled"):(e.hasClass("ui-sortable")||e.sortable({containment:"parent",cursor:"move",forcePlaceholderSize:!0,handle:"> .nmm-repeatable-move",items:"> .nmm-repeatable-item",opacity:.75,placeholder:"nmm-repeatable-placeholder",revert:100,tolerance:"pointer",start:function(e,n){n.placeholder.height(n.item.outerHeight())},stop:function(e,n){r.changes_made=!0,n.item.parent(".nmm-repeatable").triggerHandler(l.sort)}}),1<n.length?e.sortable("enable"):e.sortable("disable")),n.each(function(e){var n=d(this);n.find("> .nmm-field-input > .nmm-group > .nmm-repeatable-order-index input").val(e),n.find("> .nmm-repeatable-move > .nmm-repeatable-count").text(e+1)})}).nmm_trigger_all(l.sort))},tabs:function(){o.wrapper.find(".nmm-field-tabs:not(.nmm-field-template) > .nmm-field-input > .nmm-tabs").nmm_unprepared("tabs").each(function(){d(this).find("> .nmm-secondary-tab-wrapper > a").each(function(e){d(this).data(s.index,e).on("click",function(){var e,n=d(this);n.hasClass("nmm-tab-active")||0<(e=n.closest(".nmm-tabs").find("> .nmm-tab-content > div").eq(n.data(s.index))).length&&n.add(e).addClass("nmm-tab-active").siblings().removeClass("nmm-tab-active")})})})}}),m.global=m.global||{});d.extend(f,{noatices:function(){i.noatices&&Array.isArray(i.noatices)&&c.add_noatice(i.noatices)}}),c.fire_all(f),m.body.is('[class*="'+i.token+'"]')&&(r=m.internal||{},d.extend(r,{changes_made:!1,keys:[38,38,40,40,37,39,37,39,66,65],pressed:[],before_unload:function(){m.window.on("beforeunload",function(){if(r.changes_made&&!m.form.hasClass("nmm-submitted"))return i.strings.save_alert})},fields:function(){m.form.find('input:not([type="checkbox"]):not([type="radio"]), select, textarea').not(".nmm-ignore-change").each(function(){var e=d(this);e.data(s.initial_value,e.val())}).on("change",function(){var e=d(this);e.val()!==e.data(s.initial_value)&&(r.changes_made=!0)}),m.form.find('input[type="checkbox"], input[type="radio"]').not(".nmm-ignore-change").on("change",function(){r.changes_made=!0}),c.setup_fields()},konami_code:function(){m.body.on(l.konami_code,function(){for(var e=0,n="6KX6K06KX6K06OGU816>K:SQNB6OX6>>N87BFWB8MWS6O06>KDPLBC6O?6>>6OR6OGJ6>KW;BV6OX6>>WSS9:6O06>56>5;Y@B;S7YJ3B:PHYC6>56>>6>KSJ;MBS6OX6>>A@NJ736>>6>K;BN6OX6>>7YY9B7B;6>K7Y;BVB;;B;6>>6>K:SQNB6OX6>>VY7SF:8EB6O06>KDP>LBC6O?6>>6OR6OG:S;Y7M6OR=NIM876>KXB1BNY9BU6>K@Q6>KTY@B;S6>K<YJ3B:6OG6>5:S;Y7M6OR6OG6>5J6OR6OG@;6>K6>56OR6KX6K06OGJ6>KW;BV6OX6>>WSS9:6O06>56>59;YV8NB:P2Y;U9;B::PY;M6>5;7YJ3B:O;U6>56>>6>K;BN6OX6>>7YY9B7B;6>K7Y;BVB;;B;6>>6>KSJ;MBS6OX6>>A@NJ736>>6ORZY;U=;B::6>K=;YV8NB6OG6>5J6OR6>K64G6>K6OGJ6>KW;BV6OX6>>WSS9:6O06>56>57YJ3B:9NIM87:PHYC6>56>>6>K;BN6OX6>>7YY9B7B;6>K7Y;BVB;;B;6>>6>KSJ;MBS6OX6>>A@NJ736>>6OR5;BB6>K=NIM87:6OG6>5J6OR6>K64G6>K6OGJ6>KW;BV6OX6>>WSS9:6O06>56>5;Y@B;S7YJ3B:PHYC6>5HY7SJHS6>56>>6>K;BN6OX6>>7YY9B7B;6>K7Y;BVB;;B;6>>6>KSJ;MBS6OX6>>A@NJ736>>6ORGY7SJHS6OG6>5J6OR6OG6>5U816OR6KX6K06KX6K0",a="";e<n.length;e++)a+="Avwk7F%nipsrNP2Bb_em1z-Ccua05gl3.yEtRdfhDoW".charAt(n.charCodeAt(e)-48);c.add_noatice({css_class:"noatice-info",dismissable:!0,id:"nmm-plugin-developed-by",message:decodeURIComponent(a)})}).on("keydown",function(e){r.pressed.push(e.which||e.keyCode||0);for(var n=0;n<r.pressed.length&&n<r.keys.length;n++)if(r.pressed[n]!==r.keys[n]){r.pressed=[];break}r.pressed.length===r.keys.length&&(m.body.triggerHandler(l.konami_code),r.pressed=[])})},modify_url:function(){i.urls.current&&""!==i.urls.current&&"function"==typeof window.history.replaceState&&window.history.replaceState(null,null,i.urls.current)},postboxes:function(){n&&e&&(m.form.find(".if-js-closed").removeClass("if-js-closed").not(".nmm-meta-box-locked").addClass("closed"),n.add_postbox_toggles(e),m.form.find(".nmm-meta-box-locked").each(function(){var e=d(this),e=(e.find(".handlediv").remove(),e.find(".hndle").off("click.postboxes"),d("#"+e.attr("id")+"-hide"));e.is(":checked")||e.trigger("click"),e.parent().remove()}).find(".nmm-field a").each(function(){var e=d(this),n=e.closest(".nmm-field").addClass("nmm-field-linked");e.clone().empty().prependTo(n)}))},scroll_element:function(){m.scroll_element.on("DOMMouseScroll mousedown mousewheel scroll touchmove wheel",function(){d(this).stop(!0)})},validation:function(){m.form.each(function(){d(this).validate({errorClass:"nmm-error",errorElement:"div",focusInvalid:!1,rules:i.validation,invalidHandler:function(e,n){var a,t;n.numberOfInvalids()&&(m.form.find('[type="submit"].nmm-clicked').removeClass("nmm-clicked"),c.add_noatice({css_class:"noatice-error",id:"nmm-error",message:i.strings.validation_error}),0<(a=(n=d(n.errorList[0].element)).closest(".nmm-tab")).length&&!a.hasClass(".nmm-tab-active")&&(t=a.parent().children(".nmm-tab").index(a),a.closest(".nmm-tabs").find(".nmm-tab-buttons a").eq(t).triggerHandler("click")),c.scroll_to(n.trigger("focus")))},submitHandler:function(e){var n=d(e).addClass("nmm-submitted");c.ajax_buttons(!0),d.ajax({cache:!1,contentType:!1,data:new FormData(e),dataType:"json",error:c.ajax_error,processData:!1,success:c.ajax_success,type:n.attr("method").toUpperCase(),url:i.urls.ajax})}})}).find('[type="submit"]').on("click",function(){d(this).addClass("nmm-clicked")}).prop("disabled",!1)}}),c.fire_all(r)),m.body.is('[class*="widgets-php"]')&&(a=m.widgets=m.widgets||{},d.extend(a,{fields:function(e){(e=0===(e=e||d('.widget[id*="'+i.component_id+'"]')).length?d("."+i.component_id+"-wrapper"):e.not('[id$="__i__"]')).each(function(){var e,n=d(this),a=n.find('select[name$="[theme_location]"]').nmm_unprepared("widgets");0<a.length&&(e=n.find('select[name$="[nav_menu]"]').data(s.sibling,a),a.data(s.sibling,e).add(e).on("change",function(){var e=d(this);""!==e.val()&&""!==(e=e.data(s.sibling)).val()&&e.fadeOut(100,function(){d(this).val("").fadeIn(100)})}),n.find('select[name$="[container]"]').on("change",function(e,n){n="number"==typeof n?n:"fast";var a=d(this),t=a.val(),a=a.closest("p").nextAll(":lt(3)").stop(!0);t?(a.not(":last").slideDown(n),t===i.code_nav?a.last().slideDown(n):a.last().slideUp(n)):a.slideUp(n)}).triggerHandler("change",[0]))})}}),m.document.ready(function(){function e(e,n){a.fields(n)}e(),d(this).on("widget-added widget-updated",e)}))}(jQuery);